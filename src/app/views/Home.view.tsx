import { useSelector } from "react-redux";
import styled from "styled-components";
import usePageTitle from "../../core/hooks/usePageTitle";
import { RootState } from "../../core/store";
import HostChart from "../features/HostChart";
import RiskChart from "../features/RiskChart";
import SeverityChart from "../features/SeverityChart";
import VulnerabilityChart from "../features/VulnerabilityChart";
import Default from "../layouts/Default";

export default function Home () {
  usePageTitle('Home/Dashboard')

// resgata os dados do usuÃ¡rio logado do store do Redux
const loggedUser = useSelector((state:RootState) => state.login)

  return <Default loggedUser={loggedUser}>
    <Wrapper>
      <div>
        <Head>
          <PageTitle>DashBoard</PageTitle>
        </Head>
        <Cards>
          <HostChart token={loggedUser.userToken} />
          <VulnerabilityChart token={loggedUser.userToken} />
          <RiskChart token={loggedUser.userToken} />
        </Cards>
      </div>
    <SeverityChart token={loggedUser.userToken} />
    {/* <TopHostsChart token={loggedUser.userToken} /> */}
    </Wrapper>
  </Default>
}

const Wrapper = styled.div`
display: flex;
flex-direction: column;
gap: 20px;
`

const Head = styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 20px;
  padding-bottom: 20px;
  padding-right: 40px;
  padding-left: 40px;
  background: rgb(2,0,36);
  background: linear-gradient(45deg, rgba(2,0,36,1) 0%, #1f0130 50%, #3b0242 100%);
`

const PageTitle = styled.h2`
  color: white;
`

const Cards = styled.div`
display: flex;
justify-content: space-around;
padding: 12px;
background-color: white;
`