import { useEffect, useState } from "react";
import { useSelector } from "react-redux";
import { useNavigate } from "react-router-dom";
import usePageTitle from "../../core/hooks/usePageTitle";
import { RootState } from "../../core/store";
import { Login } from "../../sdk/@types/Login";
import Dashboard3 from "../features/Dashboard3";
import Default from "../layouts/Default";

export default function Home () {
  usePageTitle('Home/Dashboard')
  const navigate = useNavigate()
  const [userData, setUserData] = useState<Login.isLogged> ()

// resgata os dados do usuário logado do store do Redux
  const loggedUser = useSelector((state:RootState) => state.login)

  //verifica se a propriedade isLogged é verdadeira. 
  //Caso não seja, manda o usuário para a página de login
    useEffect(()=> {
    if(!loggedUser.isLogged)
      navigate('/login')
    },[loggedUser, navigate])

  return <Default>
    <Dashboard3 token={loggedUser.userToken} />
  </Default>
}

